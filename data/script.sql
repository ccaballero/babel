DROP TABLE IF EXISTS `babel_search_keywords`;
CREATE TABLE `babel_search_keywords` (
    `ident`             int unsigned                                                NOT NULL auto_increment,
    `keyword`           varchar(1024)                                               NOT NULL,
    `tsregister`        int unsigned                                                NOT NULL DEFAULT 0,
    PRIMARY KEY (`ident`),
    INDEX (`keyword`)
) DEFAULT CHARACTER SET UTF8;

DROP TABLE IF EXISTS `babel_users`;
CREATE TABLE `babel_users` (
    `ident`             int unsigned                                                NOT NULL auto_increment,
    `username`          varchar(128)                                                NOT NULL,
    `password`          varchar(40)                                                 NOT NULL,
    `fullname`          varchar(128)                                                NOT NULL DEFAULT '',
    `avatar`            boolean                                                     NOT NULL DEFAULT FALSE,
    `tsregister`        int unsigned                                                NOT NULL DEFAULT 0,
    PRIMARY KEY (`ident`),
    UNIQUE INDEX (`username`)
) DEFAULT CHARACTER SET UTF8;

INSERT INTO `babel_users` (`ident`, `fullname`, `username`, `password`, `avatar`) VALUES
(1, 'Carlos Caballero',  'jacobian', '63ca26f56c5730ede6b21c7b681b917e2fb37765', 1);

DROP TABLE IF EXISTS `babel_books_collection`;
CREATE TABLE `babel_books_collection` (
    `ident`             int unsigned                                                NOT NULL auto_increment,
    `size`              int unsigned                                                NOT NULL,
    `md5_file`          varchar(32)                                                 NOT NULL,
    `md5_path`          varchar(32)                                                 NOT NULL,
    `bookstore`         varchar(2048)                                               NOT NULL,
    `directory`         varchar(2048)                                               NOT NULL,
    `file`              varchar(2048)                                               NOT NULL,
    `tsregister`        int unsigned                                                NOT NULL DEFAULT 0,
    PRIMARY KEY (`ident`),
    INDEX (`md5_file`),
    INDEX (`md5_path`)
) DEFAULT CHARACTER SET UTF8;

DROP TABLE IF EXISTS `babel_books_shared`;
CREATE TABLE `babel_books_shared` (
    `book`              int unsigned                                                NOT NULL,
    `title`             varchar(1024)                                               NOT NULL,
    `author`            varchar(1024)                                               NOT NULL DEFAULT '',
    `publisher`         varchar(1024)                                               NOT NULL DEFAULT '',
    `language`          varchar(1024)                                               NOT NULL,
    `year`              varchar(4)                                                  NOT NULL DEFAULT '',
    `avatar`            boolean                                                     NOT NULL DEFAULT FALSE,
    INDEX (`book`),
    FOREIGN KEY (`book`) REFERENCES `babel_books_collection`(`ident`) ON UPDATE CASCADE ON DELETE CASCADE
) DEFAULT CHARACTER SET UTF8;

INSERT INTO `babel_books_collection` (`ident`, `size`, `tsregister`, `md5_file`, `md5_path`, `bookstore`, `directory`, `file`) VALUES
( 1,  2758792, 1310699334, '63609929ffebe3925d0ef38bf1701545', '', '/home/carlos/Books/Carlos', '', 'Addison.Wesley.Dojo.Using.the.Dojo.JavaScript.Library.to.Build.Ajax.Applications.Jun.2008.pdf'),
( 2, 13119033, 1310699334, '55e8f1dd651a992b062b0148d292f7ef', '', '/home/carlos/Books/Carlos', '', '2_[Ebook][Algorithm] Introduction to Algorithms ( MIT Press 2nd Edition).pdf'),
( 3,  2067498, 1310699334, '532a39252994fc8c2788d0d3f8020712', '', '/home/carlos/Books/Carlos', '', 'Algorithms (Dasgupta, Papadimitriou and Vazirani) (2006).pdf'),
( 4,  2494061, 1310699334, 'f41dc141cccc52c5556c33adf46aa2d0', '', '/home/carlos/Books/Carlos', '', 'Algoritmos y estructura de datos (Storti, D\'Elía, Paz, Dalcín y Pucheta) (2007).pdf'),
( 5,  1863122, 1310699334, 'ed6343384b8380aed009c14df0cf7515', '', '/home/carlos/Books/Carlos', '', 'Art_of_Programming_Contest_SE_for_uva.pdf'),
( 6,  4617070, 1310699334, '956100dec00e6675a69ea5d34a968a8a', '', '/home/carlos/Books/Carlos', '', 'Programming_Challenges.pdf'),
( 7,   813141, 1310699334, '0758b4cdcaffb9d9d133176ef2c10aa6', '', '/home/carlos/Books/Carlos', '', 'preliminares.pdf'),
( 8,  2344121, 1310699334, 'e47e49ebf9c374ff7a49d4c2258cdb53', '', '/home/carlos/Books/Carlos', '', 'O\'reilly RESTful Web Services Cookbook March 2010.pdf'),
( 9,  5028427, 1310699334, '20f760f3221e494ff7e3b57f6083938b', '', '/home/carlos/Books/Carlos', '', 'OReilly.Dojo.The.Definitive.Guide.Jun.2008.pdf'),
(10,  1026322, 1310699334, 'd677dc5e9a763c0bc8ac4652b6464ae1', '', '/home/carlos/Books/Carlos', '', 'OReilly.Regular.Expression.Pocket.Reference.2nd.Edition.Jul.2007.pdf'),
(11, 11293606, 1310699334, '1bcb6397b88d19fae2d16453f652aa94', '', '/home/carlos/Books/Carlos', '', 'PacktPub.Learning.ExtJS.3.2.pdf'),
(12, 11661369, 1310699334, '3927603916034c37bbb178189f0c4f3d', '', '/home/carlos/Books/Carlos', '', 'Pragmatic.Bookshelf.Mastering.Dojo.Jun.2008.pdf'),
(13,  5871276, 1310699334, 'b76d91f9b96a353ef3362ab4acce4ca4', '', '/home/carlos/Books/Carlos', '', 'web-2-0-architectures-what-entrepreneurs-and-information-architects-need-to-know.pdf'),
(14,  4573005, 1310699334, 'b7d338d3b6c339b6eb16cb438357d9b7', '', '/home/carlos/Books/Carlos', '', 'xslt.pdf'),
(15, 13311351, 1310699334, '2b3b86dd51a550846fa8ba34dffc4c1f', '', '/home/carlos/Books/Carlos', '', 'RESTful_PHP_Web_Services.pdf'),
(16,    68485, 1310699334, 'fd2f6e2417c1a6208f8d25587e785158', '', '/home/carlos/Books/Carlos', '', 'STL_ext.pdf'),
(17,  6560031, 1310699334, 'b05ce21b6a43be322eac3803539fecec', '', '/home/carlos/Books/Carlos', '', 'Thewebfoto-Curso-de-fotografia-digital.pdf'),
(18,   935155, 1310699334, '998c6a618de1c46488c2831dd252864e', '', '/home/carlos/Books/Carlos', '', 'howTo-openMosixES_0.4beta.pdf'),
(19, 12697961, 1310699334, '992248bd69f1439e00c6162d3c5c17d4', '', '/home/carlos/Books/Carlos', '', 'ireport.pdf'),
(20,  1669421, 1310699334, '1d2e4a9f1fc69002f192289da35fa56f', '', '/home/carlos/Books/Carlos', '', 'jasper.pdf'),
(21,  5236552, 1310699334, 'ffbb7dd28f2e3017170492e038b8cc44', '', '/home/carlos/Books/Carlos', '', 'learning_extjs.pdf'),
(22,  8282228, 1310699334, 'ee38f8079c8d78374ff62ffd6b600e48', '', '/home/carlos/Books/Carlos', '', 'php-manual-es.pdf'),
(23,  3850701, 1310699334, '690c0a4f002593c988c2eb68a3a7232b', '', '/home/carlos/Books/Carlos', '', 'vimbook-OPL.pdf');

INSERT INTO `babel_books_shared` (`book`, `avatar`, `language`, `year`, `title`, `author`, `publisher`) VALUES
( 1, 1, 'English', '2008', 'Dojo. Using the Dojo JavaScript Library to Build Ajax Applications', 'James E. Harmon', 'Addison-Wesley'),
( 2, 1, 'English', '2001', 'Introduction to Algorithms, Second Edition', 'Thomas H. Cormen, Charles E. Leiserson, Ronald L. Rivest, Clifford Stein', 'McGraw-Hill'),
( 3, 1, 'English', '2006', 'Algorithms', 'S. Dasgupta, C.H. Papadimitriou, U.V. Vazirani', ''),
( 4, 1, 'English', '2007', 'Algoritmos y Estructuras de Datos', 'Mario Storli, Jorge D\'Elía, Rodrigo Paz, Lisandro Dalcín, Martín Pucheta', ''),
( 5, 1, 'English', '2006', 'Art of Programming Contest', 'Ahmed Shamsul Arefin', ''),
( 6, 1, 'English', '2003', 'Programming Challenges', 'Steven S. Skiena, Miguel A. Revilla', 'Springer'),
( 7, 1, 'Español', '2006', 'Fundamentos de la Programación', 'Jorge Humberto Terán Pomier', ''),
( 8, 1, 'English', '2010', 'RESTful Web Services Cookbook', 'Subbu Allamaraju', 'O\'Reilly'),
( 9, 1, 'English', '2008', 'Dojo. The Definitive Guide', 'Matthew A. Russell', 'O\'Reilly'),
(10, 1, 'English', '2007', 'Regular Expression. Pocket Reference', 'Tony Stubblebine', 'O\'Reilly'),
(11, 1, 'English', '2010', 'Learning Ext JS 3.2', 'Shea Frederick, Steve \'Cutter\' Blades', 'PACKT'),
(12, 1, 'English', '2008', 'Mastering Dojo. JavaScript and Ajax Tools for Great Web Experiences', 'Rawld Gill, Craig Riecke, Alex Russell', 'The Pragmatic Programmers'),
(13, 1, 'English', '2009', 'Web 2.0 Architectures', 'James Governor, Dion Hinchcliffe', 'O\'Reilly'),
(14, 1, 'English', '2008', 'XSLT', 'Doug Tidwell', 'O\'Reilly'),
(15, 1, 'English', '2008', 'RESTful PHP', 'Samisa Abeysinghe', 'PACKT'),
(16, 1, 'Español', '2006', 'C++ Standard Template Library', '', ''),
(17, 1, 'Español', '2008', 'Curso de fotografía digital', 'Jesús Rodríguez', ''),
(18, 1, 'Español', '2002', 'El manual para el clustering con openMosix', 'Miquel Catalán i Coït', ''),
(19, 1, 'English', '2007', 'The Definitive Guide to iReport', 'Giulio Toffoli', 'Apress'),
(20, 1, 'English', '2007', 'The Definitive Guide to JasperReports', 'Teodor Danciu, Lucian Chirita', 'Apress'),
(21, 1, 'English', '2008', 'Learning Ext JS', 'Shea Frederick, Colin Ramsay, Steve \'Cutter\' Blades', 'PACKT'),
(22, 1, 'Español', '2001', 'Manual de PHP', 'Stig Sæther Bakken, Alexander Aulbach, Egon Schmid, Jim Winstead, Lars Torben Wilson, Rasmus Lerdorf, Zeev Suraski, Andrei Zmievski, Jouni Ahto', ''),
(23, 1, 'English', '2002', 'Vim. The Tutorial', '', '');

DROP TABLE IF EXISTS `babel_books_stats`;
CREATE TABLE `babel_books_stats` (
    `book`              int unsigned                                                NOT NULL,
    `downloads`         int unsigned                                                NOT NULL DEFAULT 0,
    PRIMARY KEY (`book`),
    INDEX (`book`),
    FOREIGN KEY (`book`) REFERENCES `babel_books_collection`(`ident`) ON UPDATE CASCADE ON DELETE CASCADE
) DEFAULT CHARACTER SET UTF8;

DROP TABLE IF EXISTS `babel_catalogs`;
CREATE TABLE `babel_catalogs` (
    `ident`             int unsigned                                                NOT NULL auto_increment,
    `label`             varchar(128)                                                NOT NULL,
    `code`              varchar(8)                                                  NOT NULL DEFAULT '',
    `level`             int unsigned                                                NOT NULL,
    `description`       text                                                        NOT NULL DEFAULT '',
    `avatar`            boolean                                                     NOT NULL DEFAULT FALSE,
    `tsregister`        int unsigned                                                NOT NULL,
    `parent`            int unsigned                                                NULL,
    `root`              int unsigned                                                NULL,
    `books`             int unsigned                                                NOT NULL DEFAULT 0,
    PRIMARY KEY (`ident`),
    INDEX (`parent`),
    FOREIGN KEY (`parent`) REFERENCES `babel_catalogs`(`ident`) ON UPDATE CASCADE ON DELETE CASCADE
) DEFAULT CHARACTER SET UTF8;

INSERT INTO `babel_catalogs` (`root`, `parent`, `code`, `level`, `label`) VALUES
(NULL, NULL, 'dewey-clasificacion', 0, 'Dewey clasification'),
(1,  1, '0',  1, 'Computer science, information & general works'),
(1,  1, '1',  1, 'Philosophy and psychology'),
(1,  1, '2',  1, 'Religion'),
(1,  1, '3',  1, 'Social sciences'),
(1,  1, '4',  1, 'Language'),
(1,  1, '5',  1, 'Science'),
(1,  1, '6',  1, 'Technology'),
(1,  1, '7',  1, 'Arts'),
(1,  1, '8',  1, 'Literature'),
(1,  1, '9',  1, 'History, geography, (& biography)'),
(1,  2, '00', 2, 'Computer science, knowledge & systems'),
(1,  2, '01', 2, 'Bibliographies'),
(1,  2, '02', 2, 'Library & information sciences'),
(1,  2, '03', 2, 'Encyclopedias & books of facts'),
(1,  2, '05', 2, 'Magazines, journals & serials'),
(1,  2, '06', 2, 'Associations, organizations & museums'),
(1,  2, '07', 2, 'News media, journalism & publishing'),
(1,  2, '08', 2, 'General collections'),
(1,  2, '09', 2, 'Manuscripts & rare books'),
(1,  3, '10', 2, 'Philosophy'),
(1,  3, '11', 2, 'Metaphysics'),
(1,  3, '12', 2, 'Epistemology, causation, humankind'),
(1,  3, '13', 2, 'Paranormal phenomena'),
(1,  3, '14', 2, 'Specific philosophical schools'),
(1,  3, '15', 2, 'Psychology'),
(1,  3, '16', 2, 'Logic'),
(1,  3, '17', 2, 'Ethics (Moral philosophy)'),
(1,  3, '18', 2, 'Ancient, medieval, Oriental philosophy'),
(1,  3, '19', 2, 'Modern Western philosophy (19th-century, 20th-century)'),
(1,  4, '20', 2, 'Religion'),
(1,  4, '21', 2, 'Natural theology'),
(1,  4, '22', 2, 'Bible'),
(1,  4, '23', 2, 'Christian theology'),
(1,  4, '24', 2, 'Christian moral & devotional theology'),
(1,  4, '25', 2, 'Christian orders & local church'),
(1,  4, '26', 2, 'Christian social theology'),
(1,  4, '27', 2, 'Christian church history'),
(1,  4, '28', 2, 'Christian denominations & sects'),
(1,  4, '29', 2, 'Other & comparative religions'),
(1,  5, '30', 2, 'Social sciences, sociology & anthropology'),
(1,  5, '31', 2, 'General statistics'),
(1,  5, '32', 2, 'Political science'),
(1,  5, '33', 2, 'Economics'),
(1,  5, '34', 2, 'Law'),
(1,  5, '35', 2, 'Public administration'),
(1,  5, '36', 2, 'Social services; association'),
(1,  5, '37', 2, 'Education'),
(1,  5, '38', 2, 'Commerce, communications, transport'),
(1,  5, '39', 2, 'Customs, etiquette, folklore'),
(1,  6, '40', 2, 'Language'),
(1,  6, '41', 2, 'Linguistics'),
(1,  6, '42', 2, 'English & Old English'),
(1,  6, '43', 2, 'Germanic languages; German'),
(1,  6, '44', 2, 'Romance languages; French'),
(1,  6, '45', 2, 'Italian, Romanian, Rhaeto-Romanic'),
(1,  6, '46', 2, 'Spanish & Portuguese languages'),
(1,  6, '47', 2, 'Italic languages; Latin'),
(1,  6, '48', 2, 'Hellenic languages; Classical Greek'),
(1,  6, '49', 2, 'Other languages'),
(1,  7, '50', 2, 'Sciences'),
(1,  7, '51', 2, 'Mathematics'),
(1,  7, '52', 2, 'Astronomy & allied sciences'),
(1,  7, '53', 2, 'Physics'),
(1,  7, '54', 2, 'Chemistry & allied sciences'),
(1,  7, '55', 2, 'Earth sciences'),
(1,  7, '56', 2, 'Paleontology; Paleozoology'),
(1,  7, '57', 2, 'Life sciences'),
(1,  7, '58', 2, 'Plants'),
(1,  7, '59', 2, 'Zoological sciences/Animals'),
(1,  8, '60', 2, 'Technology (Applied sciences)'),
(1,  8, '61', 2, 'Medical sciences; Medicine'),
(1,  8, '62', 2, 'Engineering & Applied operations'),
(1,  8, '63', 2, 'Agriculture'),
(1,  8, '64', 2, 'Home economics & family living'),
(1,  8, '65', 2, 'Management & auxiliary services'),
(1,  8, '66', 2, 'Chemical engineering'),
(1,  8, '67', 2, 'Manufacturing'),
(1,  8, '68', 2, 'Manufacture for specific uses'),
(1,  8, '69', 2, 'Buildings'),
(1,  9, '70', 2, 'Arts'),
(1,  9, '71', 2, 'Civic & landscape art'),
(1,  9, '72', 2, 'Architecture'),
(1,  9, '73', 2, 'Plastic arts; Sculpture'),
(1,  9, '74', 2, 'Drawing & decorative arts'),
(1,  9, '75', 2, 'Painting & paintings'),
(1,  9, '76', 2, 'Graphic arts; Printmaking & prints'),
(1,  9, '77', 2, 'Photography & photographs'),
(1,  9, '78', 2, 'Music'),
(1,  9, '79', 2, 'Recreational & performing arts'),
(1, 10, '80', 2, 'Literature rhetoric & criticism'),
(1, 10, '81', 2, 'American literature in English'),
(1, 10, '82', 2, 'English & Old English literatures'),
(1, 10, '83', 2, 'Literatures of Germanic languages'),
(1, 10, '84', 2, 'Literatures of Romance languages'),
(1, 10, '85', 2, 'Italian, Romanian, Rhaeto-Romanic'),
(1, 10, '86', 2, 'Spanish & Portuguese literatures'),
(1, 10, '87', 2, 'Italic literatures; Latin'),
(1, 10, '88', 2, 'Hellenic literatures; Classical Greek'),
(1, 10, '89', 2, 'Literatures of other languages'),
(1, 11, '90', 2, 'History'),
(1, 11, '91', 2, 'Geography & travel'),
(1, 11, '92', 2, 'Biography, genealogy, insignia'),
(1, 11, '93', 2, 'History of ancient world'),
(1, 11, '94', 2, 'General history of Europe'),
(1, 11, '95', 2, 'General history of Asia; Far East'),
(1, 11, '96', 2, 'General history of Africa'),
(1, 11, '97', 2, 'General history of North America'),
(1, 11, '98', 2, 'General history of South America'),
(1, 11, '99', 2, 'General history of other areas'),

(NULL, NULL, '419701', 0, 'Ing. de Sistemas'),
(111, 111, '2008019', 1, 'Álgebra I'),
(111, 111, '2008054', 1, 'Cálculo I'),
(111, 111, '2006018', 1, 'Física Básica I'),
(111, 111, '1803001', 1, 'Ingles I'),
(111, 111, '2010010', 1, 'Introducción a la Programación'),
(111, 111, '2008022', 1, 'Álgebra II'),
(111, 111, '2008056', 1, 'Cálculo II'),
(111, 111, '2010003', 1, 'Elementos de Programación y Estructura de Datos'),
(111, 111, '2006020', 1, 'Física Básica III'),
(111, 111, '1803002', 1, 'Ingles II'),
(111, 111, '2008058', 1, 'Ecuaciones Diferenciales'),
(111, 111, '2014087', 1, 'Electrotecnia Industrial'),
(111, 111, '2008059', 1, 'Estadística I'),
(111, 111, '2008057', 1, 'Matemática Discreta'),
(111, 111, '2010012', 1, 'Métodos, Técnicas y Taller de Programación'),
(111, 111, '2010013', 1, 'Arquitectura de Computadoras I'),
(111, 111, '2010015', 1, 'Base de Datos I'),
(111, 111, '2008060', 1, 'Cálculo Númerico'),
(111, 111, '2016046', 1, 'Contabilidad Básica'),
(111, 111, '2008061', 1, 'Estadística II'),
(111, 111, '2010014', 1, 'Arquitectura de Computadoras II'),
(111, 111, '2010016', 1, 'Base de Datos II'),
(111, 111, '2016049', 1, 'Costos Industriales'),
(111, 111, '2016048', 1, 'Investigación Operativa I'),
(111, 111, '2016021', 1, 'Planificación y Control de la Producción I'),
(111, 111, '2016051', 1, 'Investigación Operativa II'),
(111, 111, '2016057', 1, 'Mercadotecnia'),
(111, 111, '2016027', 1, 'Planificación y Control de la Producción II'),
(111, 111, '2010018', 1, 'Sistemas de Información I'),
(111, 111, '2010017', 1, 'Taller de Sistemas Operativos'),
(111, 111, '2010035', 1, 'Aplicación de Sistemas Operativos'),
(111, 111, '2016052', 1, 'Ingeniería de Métodos y Reingeniería'),
(111, 111, '2016023', 1, 'Ingeniería Economica'),
(111, 111, '2010019', 1, 'Simulación de Sistemas'),
(111, 111, '2010022', 1, 'Sistemas de Información II'),
(111, 111, '2010053', 1, 'Taller de Base de Datos'),
(111, 111, '2010202', 1, 'Evaluación y Auditoría de Sistemas'),
(111, 111, '2010020', 1, 'Ingeniería de Software'),
(111, 111, '2010027', 1, 'Inteligencia Artificial'),
(111, 111, '2016092', 1, 'Planificación y Evaluación de Proyectos'),
(111, 111, '2010047', 1, 'Redes de Computadoras'),
(111, 111, '2010116', 1, 'Taller de Simulación de Sistemas'),
(111, 111, '2010119', 1, 'Metodologia y Planificación de Proy. de Grado'),
(111, 111, '2010029', 1, 'Sistemas Expertos'),
(111, 111, '2010024', 1, 'Taller de Ingeniería de Software'),
(111, 111, '2016059', 1, 'Gestion Estrategica de Empresas'),
(111, 111, '2010122', 1, 'Proyecto Final'),

(NULL, NULL, '419701', 0, 'Lic. Informática'),
(159, 159, '2008239', 1, 'Álgebra'),
(159, 159, '2008141', 1, 'Análisis Matemático I'),
(159, 159, '1803001', 1, 'Ingles I'),
(159, 159, '2010010', 1, 'Introducción a la Programación'),
(159, 159, '2008140', 1, 'Lógica'),
(159, 159, '2008063', 1, 'Álgebra Lineal'),
(159, 159, '2008143', 1, 'Análisis Matemático II'),
(159, 159, '2010013', 1, 'Arquitectura de Computadoras I'),
(159, 159, '2010003', 1, 'Elementos de Programación y Estructura de Datos'),
(159, 159, '1803002', 1, 'Ingles II'),
(159, 159, '2008144', 1, 'Análisis Matemático III'),
(159, 159, '2010014', 1, 'Arquitectura de Computadoras II'),
(159, 159, '1803009', 1, 'Ingles III'),
(159, 159, '2010012', 1, 'Métodos, Técnicas y Taller de Programación'),
(159, 159, '2008145', 1, 'Probabilidad'),
(159, 159, '2008060', 1, 'Cálculo Númerico'),
(159, 159, '2008147', 1, 'Estadística'),
(159, 159, '2010038', 1, 'Programación Funcional'),
(159, 159, '2010005', 1, 'Taller de Programación en Bajo Nivel'),
(159, 159, '2010037', 1, 'Teoría de Grafos'),
(159, 159, '2010015', 1, 'Base de Datos I'),
(159, 159, '2010042', 1, 'Graficación por Computadora'),
(159, 159, '2010041', 1, 'Organización y Métodos'),
(159, 159, '2010017', 1, 'Taller de Sistemas Operativos'),
(159, 159, '2010040', 1, 'Teoría de Autómatas y Lenguajes Formales'),
(159, 159, '2010016', 1, 'Base de Datos II'),
(159, 159, '2010049', 1, 'Estructura y Semántica de Lenguajes de Programación'),
(159, 159, '2010117', 1, 'Investigación Operativa'),
(159, 159, '2010047', 1, 'Redes de Computadoras'),
(159, 159, '2010018', 1, 'Sistemas de Información I'),
(159, 159, '2010044', 1, 'Diseño de Compiladores'),
(159, 159, '2010020', 1, 'Ingeniería de Software'),
(159, 159, '2010027', 1, 'Inteligencia Artificial'),
(159, 159, '2010022', 1, 'Sistemas de Información II'),
(159, 159, '2010053', 1, 'Taller de Base de Datos'),
(159, 159, '2010063', 1, 'Comunicación Profesional'),
(159, 159, '2010029', 1, 'Sistemas Expertos'),
(159, 159, '2010024', 1, 'Taller de Ingeniería de Software'),
(159, 159, '2010102', 1, 'Evaluación y Auditoría de Sistemas'),
(159, 159, '2010119', 1, 'Metodología y Planificación de Proyecto de Grado'),
(159, 159, '2010048', 1, 'Taller de Desarrollo de un Ambiente de Aplicación'),
(159, 159, '2010122', 1, 'Proyecto Final');

DROP TABLE IF EXISTS `babel_catalogs_stats`;
CREATE TABLE `babel_catalogs_stats` (
    `catalog`           int unsigned                                                NOT NULL,
    `books`             int unsigned                                                NOT NULL DEFAULT 0,
    PRIMARY KEY (`catalog`),
    INDEX (`catalog`),
    FOREIGN KEY (`catalog`) REFERENCES `babel_books_catalogs`(`ident`) ON UPDATE CASCADE ON DELETE CASCADE
) DEFAULT CHARACTER SET UTF8;

DROP TABLE IF EXISTS `babel_books_catalogs`;
CREATE TABLE `babel_books_catalogs` (
    `book`              int unsigned                                                NOT NULL,
    `catalog`           int unsigned                                                NOT NULL,
    PRIMARY KEY (`book`, `catalog`),
    INDEX (`book`),
    FOREIGN KEY (`book`)          REFERENCES `babel_books_shared`(`book`) ON UPDATE CASCADE ON DELETE CASCADE,
    INDEX (`catalog`),
    FOREIGN KEY (`catalog`)       REFERENCES `babel_catalogs`(`ident`) ON UPDATE CASCADE ON DELETE CASCADE
) DEFAULT CHARACTER SET UTF8;
